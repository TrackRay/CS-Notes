import Hitokoto from '../../components/hitokoto';

# 8.5

> <Hitokoto />

## 操作系统

### 第五章-输入/输出管理（I/O）管理

厂家在设计一个设备时，通常会为该设备便携驱动程序，主机需要**先安装驱**动程序，**才能使**用设备。当一个设备被连接到主机时，**驱动程序**负责**初始化设备**（如将设备控制器中的寄存器初始化）；当**进程**在**执行驱动程序**时，可能会因为**设备忙碌**而进入**阻塞态**；设备的**读/写操作本质就是在设备驱动器和主机之间传送数据**，而只有厂家知道设备控制器的内部实现，因此也只有厂家提供的**驱动程序能控制设备读/写操作**；厂家会根据**设备特性**，在**驱动程序**中实现一种合适的**I/O控制方式** **<u>*p298-32（2022）*</u>**

**设备与输入井/输出井**之间数据的传送是由**系统实现**的 **<u>*p297-30（2016）*</u>**

![image-20230806115258583](https://pic.redhat.team/uPic/image-20230806115258583.png)

![image-20230806115020574](https://pic.redhat.team/uPic/image-20230806115020574.png)

在一个磁盘上设置**多个分区**与改善**设备I/O性能**并无多大联系，相反还会带来处理的复杂性，**降低利用率** **<u>*p297-27（2012）*</u>**

在单缓冲区中，当上一个磁盘块从缓冲区读入用户区完成时，下一块磁盘才能开始读入，也就是当**最后一块磁盘块**读入用户区完毕时所用的时间加上处理最后一个磁盘块的时间；双缓冲区中，不存在等待磁盘从缓冲区读入用户区的问题，磁盘块可以连续从外存读入主存缓冲区，加上将**最后一个磁盘块**从缓冲区送到用户区的传输时间和处理时间 **<u>*p297-26（2011）*</u>**

SPOOLing技术需有高速大容量且可**随机存取**的**外存支持**，是操作系统中采用的以空间换取时间的技术（需要**多道程序设计技术**的支持，**进程不必等**待I/O操作的完成） **<u>*p297-22*</u>**

SPOOLing系统主要包含**三部分**，即输入井和输出井、输入缓冲区和输出缓冲区以及输入进程和输出进程。这三部分由**预输入程序、井管理程序和缓输出程序管理**，以保证系统正常运行 **<u>*p296-18*</u>**

![image-20230806162804302](https://pic.redhat.team/uPic/image-20230806162804302.png)

SPOOLing技术需要使用磁盘空间（输入井和输出井）和内存空间（输入/输出缓冲区），**不需要外围计算机**的支持 **<u>*p296-17*</u>**

提高单机资源利用率的关键技术是**多道程序设计技术**，其他（**SPOOLing技术、虚拟技术、交换技术**）均为设备和内存的相关技术 **<u>*p296-13*</u>**

缓冲区管理着重要考虑的问题是实现进程访问缓冲区（**临界资源**）的同步 **<u>*p296-08*</u>**

缓冲区主要解决输入/输出速度**比CPU**处理的速度**慢**而造成数据积压的矛盾 **<u>*p296-07*</u>**



